# Google Calendar 기능 명세

## 개요

Google Calendar API를 통해 일정을 관리하는 7개의 MCP 도구를 제공한다.

## 도구 목록

### 1. `list_events` - 일정 목록 조회

오늘 또는 지정 기간의 일정을 조회한다.

- **파라미터**:
  | 이름 | 타입 | 필수 | 설명 |
  |------|------|------|------|
  | `start_date` | `str` | 아니오 | 시작 날짜 (YYYY-MM-DD). 기본값: 오늘 |
  | `end_date` | `str` | 아니오 | 종료 날짜 (YYYY-MM-DD). 기본값: start_date와 동일 |
  | `max_results` | `int` | 아니오 | 최대 결과 수. 기본값: 10 |
  | `calendar_id` | `str` | 아니오 | 캘린더 ID. 기본값: primary |

- **반환값**: 일정 목록 (제목, 시간, 장소, 참석자)
- **예시**:
  ```
  사용자: "오늘 일정 알려줘"
  도구 호출: list_events()

  사용자: "이번 주 일정 보여줘"
  도구 호출: list_events(start_date="2025-02-10", end_date="2025-02-16")
  ```

### 2. `get_event` - 일정 상세 조회

특정 일정의 상세 정보를 조회한다.

- **파라미터**:
  | 이름 | 타입 | 필수 | 설명 |
  |------|------|------|------|
  | `event_id` | `str` | 예 | 이벤트 ID |
  | `calendar_id` | `str` | 아니오 | 캘린더 ID. 기본값: primary |

- **반환값**: 일정 상세 (제목, 시간, 장소, 설명, 참석자, 반복 규칙)
- **예시**:
  ```
  도구 호출: get_event(event_id="abc123")
  ```

### 3. `create_event` - 일정 생성

새 일정을 생성한다.

- **파라미터**:
  | 이름 | 타입 | 필수 | 설명 |
  |------|------|------|------|
  | `summary` | `str` | 예 | 일정 제목 |
  | `start_time` | `str` | 예 | 시작 시간 (ISO 8601) |
  | `end_time` | `str` | 예 | 종료 시간 (ISO 8601) |
  | `description` | `str` | 아니오 | 일정 설명 |
  | `location` | `str` | 아니오 | 장소 |
  | `attendees` | `list[str]` | 아니오 | 참석자 이메일 목록 |
  | `calendar_id` | `str` | 아니오 | 캘린더 ID. 기본값: primary |

- **반환값**: 생성된 일정 정보 (ID, 링크)
- **예시**:
  ```
  사용자: "내일 오후 3시에 팀 미팅 잡아줘"
  도구 호출: create_event(
    summary="팀 미팅",
    start_time="2025-02-12T15:00:00+09:00",
    end_time="2025-02-12T16:00:00+09:00"
  )
  ```

### 4. `update_event` - 일정 수정

기존 일정을 수정한다.

- **파라미터**:
  | 이름 | 타입 | 필수 | 설명 |
  |------|------|------|------|
  | `event_id` | `str` | 예 | 이벤트 ID |
  | `summary` | `str` | 아니오 | 변경할 제목 |
  | `start_time` | `str` | 아니오 | 변경할 시작 시간 |
  | `end_time` | `str` | 아니오 | 변경할 종료 시간 |
  | `description` | `str` | 아니오 | 변경할 설명 |
  | `location` | `str` | 아니오 | 변경할 장소 |
  | `calendar_id` | `str` | 아니오 | 캘린더 ID. 기본값: primary |

- **반환값**: 수정된 일정 정보
- **예시**:
  ```
  사용자: "내일 미팅 4시로 변경해줘"
  도구 호출: update_event(
    event_id="abc123",
    start_time="2025-02-12T16:00:00+09:00",
    end_time="2025-02-12T17:00:00+09:00"
  )
  ```

### 5. `delete_event` - 일정 삭제

일정을 삭제한다.

- **파라미터**:
  | 이름 | 타입 | 필수 | 설명 |
  |------|------|------|------|
  | `event_id` | `str` | 예 | 이벤트 ID |
  | `calendar_id` | `str` | 아니오 | 캘린더 ID. 기본값: primary |

- **반환값**: 삭제 확인 메시지
- **예시**:
  ```
  사용자: "내일 미팅 취소해줘"
  도구 호출: delete_event(event_id="abc123")
  ```

### 6. `list_calendars` - 캘린더 목록 조회

사용 가능한 캘린더 목록을 조회한다.

- **파라미터**: 없음
- **반환값**: 캘린더 목록 (ID, 이름, 색상)
- **예시**:
  ```
  사용자: "내 캘린더 목록 보여줘"
  도구 호출: list_calendars()
  ```

### 7. `search_events` - 일정 검색

키워드로 일정을 검색한다.

- **파라미터**:
  | 이름 | 타입 | 필수 | 설명 |
  |------|------|------|------|
  | `query` | `str` | 예 | 검색 키워드 |
  | `start_date` | `str` | 아니오 | 검색 시작 날짜. 기본값: 오늘 |
  | `end_date` | `str` | 아니오 | 검색 종료 날짜. 기본값: 30일 후 |
  | `max_results` | `int` | 아니오 | 최대 결과 수. 기본값: 10 |

- **반환값**: 검색된 일정 목록
- **예시**:
  ```
  사용자: "다음 주 미팅 일정 찾아줘"
  도구 호출: search_events(query="미팅", start_date="2025-02-17", end_date="2025-02-23")
  ```

---

## 에러 처리 정책

| 에러 상황 | 처리 방법 |
|-----------|-----------|
| 인증 만료 | 자동 토큰 갱신 시도. 실패 시 재인증 안내 |
| 잘못된 날짜 형식 | 에러 메시지와 올바른 형식 안내 |
| 존재하지 않는 이벤트 | "해당 일정을 찾을 수 없습니다" 반환 |
| API 할당량 초과 | 재시도 안내 및 대기 시간 표시 |
| 권한 부족 | 필요한 권한 안내 |
